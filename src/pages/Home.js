import { Link } from 'react-router-dom';
import { useState, useEffect } from 'react';
import Header from '../components/Header';
import './Home.css';

function Home() {
  const fullText =
    '–ë–∞–∂–∞—é —Ç–æ–±—ñ —â–∞—Å—Ç—è, —Ç–µ–ø–ª–∞, —è—Å–∫—Ä–∞–≤–∏—Ö –º–æ–º–µ–Ω—Ç—ñ–≤ —ñ –∑–¥—ñ–π—Å–Ω–µ–Ω–Ω—è –≤—Å—ñ—Ö –º—Ä—ñ–π. –î—è–∫—É—é, —â–æ —Ç–∏ —î ‚ù§Ô∏è';
  const [displayedText, setDisplayedText] = useState('');
  const [menuOpen, setMenuOpen] = useState(false);
  const [photoVisible, setPhotoVisible] = useState({ 1: false, 2: false, 3: false, 4: false, 5: false, 6: false });
  const [greetingText, setGreetingText] = useState({ 1: '', 2: '', 3: '', 4: '', 5: '', 6: '' });
  const years = ['—Ñ–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è'];

  // Initial typing effect for main text
  useEffect(() => {
    let i = 0;
    const interval = setInterval(() => {
      setDisplayedText(fullText.slice(0, i + 1));
      i++;
      if (i === fullText.length) clearInterval(interval);
    }, 50);
    return () => clearInterval(interval);
  }, []);

  // Independent typing effects for each greeting
  useEffect(() => {
    const isVisible = photoVisible[1]; // Extract complex expression
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting1 = `–°–æ–Ω–µ—á–∫–æ, –≤—ñ—Ç–∞—é —Ç–µ–±–µ –∑ —Ç–≤–æ—ó–º –î–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è.
–¶–µ–π –¥–µ–Ω—å —î –ø—Ä–µ–∫—Ä–∞—Å–Ω–∏–º, –±–æ 19 —Ä–æ–∫—ñ–≤ —Ç–æ–º—É –Ω–∞ —Å–≤—ñ—Ç –∑‚Äô—è–≤–∏–ª–æ—Å—å —Ç–∞–∫–µ —á—É–¥–æ, —è–∫ —Ç–∏.
–©–µ —Ä—ñ–≤–Ω–æ —Ä—ñ–∫ —Ç–æ–º—É –º–∏ —Å–∏–¥—ñ–ª–∏ –Ω–∞ –ª–∞–≤–æ—á—Ü—ñ, –±–∞–ª–∞–∫–∞–ª–∏ –ø—Ä–æ –≤—Å–µ —ñ –Ω—ñ –ø—Ä–æ —â–æ –≤–æ–¥–Ω–æ—á–∞—Å, —Å–ª—É—Ö–∞–ª–∏ The Night We Met. –£ —Ç–µ–±–µ –≤ –≥–æ–ª–æ–≤—ñ –∫—Ä—É—Ç–∏–ª–æ—Å—å, —è–∫–∏–π —è –∞—Ö—É—î–Ω–Ω–∏–π –∫–µ–Ω—Ç, –∞ —è –¥—É–º–∞–≤: ¬´–Ø–∫–∞ –∂ —Ç–∏ –≤—Å–µ-—Ç–∞–∫–∏ —á—É–¥–æ–≤–∞¬ª. –Ü —Ç–æ–¥—ñ –º–∏ –Ω–∞–≤—ñ—Ç—å –ø–æ–¥—É–º–∞—Ç–∏ –Ω–µ –º–æ–≥–ª–∏, —â–æ –Ω–∞—Å—Ç—É–ø–Ω–µ –î–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —Å–≤—è—Ç–∫—É–≤–∞—Ç–∏–º–µ–º–æ –≤–∂–µ —è–∫ –ø–∞—Ä–∞.
–Ø –¥—É–∂–µ —Ä–∞–¥–∏–π, —â–æ –≤—Å–µ —Å–∫–ª–∞–ª–æ—Å—è —Å–∞–º–µ —Ç–∞–∫.
–•–æ—á—É –ø–æ–±–∞–∂–∞—Ç–∏ —Ç–æ–±—ñ –∑–¥–æ—Ä–æ–≤‚Äô—è ‚Äî —Ü–µ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ. –ó–∞—Ä–∞–∑, –º–æ–∂–ª–∏–≤–æ, –Ω–µ –≤—Å–µ —Ç–∞–∫ –¥–æ–±—Ä–µ, —è–∫ —Ö–æ—Ç—ñ–ª–æ—Å—è –±, –∞–ª–µ —è –¥—É–∂–µ –Ω–∞–¥—ñ—é—Å—å, —â–æ –º–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è –∑ —É—Å—ñ–º —è–∫–Ω–∞–π—à–≤–∏–¥—à–µ.
–ë–∞–∂–∞—é —â–µ –π –≤–¥–∞—á—ñ. –Ø–∫ –±–∏ —Ç–∞–º –Ω–µ –±—É–ª–æ, –∞–ª–µ –≤–æ–Ω–∞ –¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∞. –Ø–∫–±–∏ –º—ñ–≥, —Ç–æ –ø–æ–¥—ñ–ª–∏–≤—Å—è –± —Å–≤–æ—î—é ‚Äî –º–µ–Ω—ñ –∂ —Å–ø—Ä–∞–≤–¥—ñ —â–∞—Å—Ç–∏—Ç—å: –≤–∏–±–∏–≤ —Å—Ç—ñ–ª—å–∫–∏ –ª–µ–≥–µ–Ω–¥–∞—Ä–æ–∫ —É “ê–µ–Ω—à–∏–Ω—ñ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —á–∞—Å üòÑ –Ü –Ω–∞–π–≥–æ–ª–æ–≤–Ω—ñ—à–µ ‚Äî –º–æ—è –≤–¥–∞—á–∞ –¥–æ–ø–æ–º–æ–≥–ª–∞ –º–µ–Ω—ñ –∑–Ω–∞–π—Ç–∏ —Ç–µ–±–µ.
–°–ø–æ–¥—ñ–≤–∞—é—Å—è, —â–æ —Ç–≤–æ—ó –º—Ä—ñ—ó –±—É–¥—É—Ç—å –∑–±—É–≤–∞—Ç–∏—Å—å, —ñ —Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–æ –π—Ç–∏–º–µ—à —à–ª—è—Ö–æ–º, —è–∫–∏–π –æ–±–µ—Ä–µ—à. –ê —è ‚Äî –∑–∞–≤–∂–¥–∏ –ø–æ—Ä—É—á. –Ø –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –∑—Ä–æ–±–∏—Ç–∏ –≤—Å–µ, —â–æ –≤ –º–æ—ó—Ö —Å–∏–ª–∞—Ö, –∞–±–∏ —Ç–≤–æ—ó –º—Ä—ñ—ó –∑–¥—ñ–π—Å–Ω—é–≤–∞–ª–∏—Å—å.
–¢–∏ –≤ –º–µ–Ω–µ –¥—É–∂–µ –≥–∞—Ä–Ω–∞, –º–∏–ª–∞, –¥–æ–±—Ä–∞, —Ä–æ–∑—É–º–Ω–∞ —ñ —Å—ñ–ª–ª—ñ –≤–æ–¥–Ω–æ—á–∞—Å ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–π–∫—Ä–∞—â–∞ –¥—ñ–≤—á–∏–Ω–∫–∞ üíñ
–ú–∏ –∑–Ω–∞–π–æ–º—ñ —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ —Ä–æ–∫—É, –∞–ª–µ –∑–∞ —Ü–µ–π —á–∞—Å –º–∏ –≤–∂–µ —Å—Ç—ñ–ª—å–∫–∏ –≤—Å—å–æ–≥–æ –ø–µ—Ä–µ–∂–∏–ª–∏, —â–æ –≤ –º–µ–Ω–µ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –≤—Ä–∞–∂–µ–Ω–Ω—è, –Ω—ñ–±–∏ –ø—Ä–æ–π—à–ª–æ –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–µ —á–∞—Å—É. –ß–∞—Å—Ç–æ, –∫–æ–ª–∏ –º–∏ –≥—É–ª—è–ª–∏ –∞–±–æ –ø—Ä–æ—Å—Ç–æ —Å–∏–¥—ñ–ª–∏ –≤–¥–æ–º–∞, —ñ —Ç—Ä–µ–±–∞ –±—É–ª–æ –≤–∂–µ —Ä–æ–∑—Ö–æ–¥–∏—Ç–∏—Å—å, —Å—Ç–∞–≤–∞–ª–æ —Å—É–º–Ω–æ, –±–æ —á–∞—Å—É –∑–∞–≤–∂–¥–∏ –º–∞–ª–æ.
–ö–æ–ª–∏ —è –∑ —Ç–æ–±–æ—é ‚Äî —á–∞—Å –ø—Ä–æ—Å—Ç–æ –∑–ª—ñ—Ç–∞—î. –°–∫–ª–∞–¥–∞—î—Ç—å—Å—è –≤—Ä–∞–∂–µ–Ω–Ω—è, —â–æ –π –≤—ñ—á–Ω–æ—Å—Ç—ñ –Ω–µ –≤–∏—Å—Ç–∞—á–∏—Ç—å, —â–æ–± –Ω–∞–æ–±—ñ–π–º–∞—Ç–∏—Å—è, –ø–æ–æ–±–≥–æ–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—Å–µ –π —É—Å—ñ—Ö –Ω–∞ —Å–≤—ñ—Ç—ñ, –ø–æ–¥—É—Ä—ñ—Ç–∏ —á–∏ –Ω–∞–≤—ñ—Ç—å –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥—ñ—Ç–∏ –ø–æ—Ä—É—á —É —Ç–∏—à—ñ.
–¢–æ–º—É —è —â–∏—Ä–æ –Ω–∞–¥—ñ—é—Å—å, —â–æ —ñ—Å–Ω—É—é—Ç—å —ñ–Ω—à—ñ –∂–∏—Ç—Ç—è, —ñ –≤ –∫–æ–∂–Ω–æ–º—É –∑ –Ω–∏—Ö –º–∏ –∑–Ω–æ–≤—É —ñ –∑–Ω–æ–≤—É –±—É–¥–µ–º–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –æ–¥–Ω–µ –æ–¥–Ω–æ–≥–æ.
–Ø —Ç–µ–±–µ –¥—É–∂–µ —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é. –Ü —Ö–æ—Ç—ñ–ª–æ—Å—è –± –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç–∏ –π –≤—ñ–¥–≥–æ—Ä–æ–¥–∏—Ç–∏ —Ç–µ–±–µ –≤—ñ–¥ —É—Å—ñ—Ö –ø—Ä–æ–±–ª–µ–º —Ü—å–æ–≥–æ —Å–≤—ñ—Ç—É, –∞–ª–µ, –Ω–∞ –∂–∞–ª—å, –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –∑–∞—Ä–∞–∑ ‚Äî –Ω–µ –º–æ–∂—É.
–¢–∞ —è –±—É–¥—É –ø–æ—Ä—É—á —ñ —Ä–æ–±–∏—Ç–∏–º—É –≤—Å–µ, —â–æ –≤ –º–æ—ó—Ö —Å–∏–ª–∞—Ö.
–î—è–∫—É—é —Ç–≤–æ—ó–π –º–∞–º—ñ, —â–æ –Ω–∞—Ä–æ–¥–∏–ª–∞ —ñ –≤–∏—Ö–æ–≤–∞–ª–∞ —Ç–∞–∫—É –ø—Ä–µ–∫—Ä–∞—Å–Ω—É –¥–æ–Ω—å–∫—É. –Ü –¥—è–∫—É—é —Ç–æ–±—ñ ‚Äî –∑–∞ —Ç–µ, —â–æ —Ç–∏ –≤ –º–µ–Ω–µ —î.
–ó –ª—é–±–æ–≤‚Äô—é ‚Äî –Ω–∞–∑–∞–≤–∂–¥–∏ —Ç–≤—ñ–π –º–∞–π–±—É—Ç–Ω—ñ–π —á–æ–ª–æ–≤—ñ–∫.
P.S. (–†–æ–º–∞–Ω)`;
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 1: greeting1.slice(0, i + 1) }));
        i++;
        if (i === greeting1.length) clearInterval(interval);
      }, 20); // –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–∏–π –µ—Ñ–µ–∫—Ç (20 –º—Å –∑–∞–º—ñ—Å—Ç—å 50 –º—Å)
    } else {
      setGreetingText((prev) => ({ ...prev, 1: '' })); // Reset when hidden
    }
    return () => clearInterval(interval);
  }, [photoVisible[1]]); // Use specific key as dependency

  useEffect(() => {
    const isVisible = photoVisible[2];
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting2 = '–í—ñ—Ç–∞—é';
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 2: greeting2.slice(0, i + 1) }));
        i++;
        if (i === greeting2.length) clearInterval(interval);
      }, 20);
    } else {
      setGreetingText((prev) => ({ ...prev, 2: '' }));
    }
    return () => clearInterval(interval);
  }, [photoVisible[2]]);

  useEffect(() => {
    const isVisible = photoVisible[3]; // Extract complex expression
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting3 = `–ó –î–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, —Ä—ñ–¥–Ω–∞, –≤—ñ—Ç–∞—é,
–©–∞—Å—Ç—è, —Ä–∞–¥–æ—Å—Ç—ñ —â–∏—Ä–æ –±–∞–∂–∞—é!
–•–∞–π —É —Å–µ—Ä—Ü—ñ –ø–∞–Ω—É—î –≤–µ—Å–Ω–∞,
–Ü –º–∏–Ω–∞—î –ø–µ—á–∞–ª—å —Å—Ç–æ—Ä–æ–Ω–∞.

–•–∞–π —Å–º—ñ—î—Ç—å—Å—è –¥—É—à–∞, –Ω–∞—á–µ –¥–∑–≤—ñ–Ω,
–Ü –≤ –∫–∏—à–µ–Ω—ñ –∑–∞–≤–∂–¥–∏ –±—É–¥–µ –≥—Ä—ñ–Ω!
–ü–æ–¥–æ—Ä–æ–∂–µ–π, –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ–≤ —ñ –∫–∞–∑–æ–∫,
–©–æ–± –∂–∏—Ç—Ç—è –ø—Ä–æ–ª—ñ—Ç–∞–ª–æ, —è–∫ —Å—Ç—Ä–æ–∫.

–•–∞–π –ª—é–±–æ–≤ –∑—ñ–≥—Ä—ñ–≤–∞—î —â–æ–¥–Ω—è,
–ê –¥–æ—Å—Ç–∞—Ç–æ–∫ ‚Äî –Ω–µ –º—Ä—ñ—è, –∞ —Å—É—Ç—å –±—É—Ç—Ç—è.
–ú–µ–Ω—à–µ –∂–∏—Ä—É ‚Äî –±—ñ–ª—å—à–µ –º‚Äô—è–∑—ñ–≤ –∫—Ä—É—Ç–∏—Ö,
–©–æ–± –≤—Å—ñ –∑–∞–∑–¥—Ä–∏–ª–∏ —Ñ–æ—Ä–º–∞–º —Ç–≤–æ—ó–º –±–æ–π–æ–≤–∏–º!

–ë—É–¥—å –∑–¥–æ—Ä–æ–≤–æ—é, —Å–∏–ª—å–Ω–æ—é, —Å–º—ñ–ª–æ—é,
–ó –∫–æ–∂–Ω–∏–º —Ä–æ–∫–æ–º –∫—Ä–∞—Å–∏–≤—ñ—à–æ—é –π –º–∏–ª–æ—é.
–Ü –Ω–µ—Ö–∞–π —É—Å–µ –±—É–¥–µ, —è–∫ —Ö–æ—á–µ—à —Å–∞–º–∞ ‚Äî
–ë–æ –ø–ª–µ–º—ñ–Ω–Ω–∏—Ü—è —Ç–∏ –≤ –º–µ–Ω–µ ‚Äî –æ–≥–æ–≥–æ —è–∫–∞! üíñ`;
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 3: greeting3.slice(0, i + 1) }));
        i++;
        if (i === greeting3.length) clearInterval(interval);
      }, 20); // –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–∏–π –µ—Ñ–µ–∫—Ç
    } else {
      setGreetingText((prev) => ({ ...prev, 3: '' })); // Reset when hidden
    }
    return () => clearInterval(interval);
  }, [photoVisible[3]]); // Use specific key as dependency

  useEffect(() => {
    const isVisible = photoVisible[4]; // Extract complex expression
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting4 = '–õ—é–±–∞ –ö–∞—Ç–µ—Ä–∏–Ω–æ –≤—ñ—Ç–∞—é —Ç–µ–±–µ –∑ —Ç–≤–æ—ó–º –¥–Ω–µ–ºü•≥, –Ω–µ—Ö–∞–π –≤—Å–µ —â–æ —Ç–∏ —Å–æ–±—ñ –∑–∞–¥—É–º–∞–ª–∞ –±—É–¥–µ –∑–±—É–≤–∞—Ç–∏ —ñ —Ö–æ—á —è –∑–Ω–∞—é —â–æ –¥–µ–∫–æ–ª–∏  —Ü–µ –≤—Å–µ –∑–¥–∞—î—Ç—å—Å—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∏–º, –∞–ª–µ –º–∞—é—á–∏ –Ω–∞–¥—ñ—é –≤—Å–µ –º–æ–∂–µ –≤–∏–π—Ç–∏ —ñ —è –±–∞–∂–∞—é —â–æ–± —É —Ç–µ–±–µ –≤—Å–µ –≤–∏–π—à–ª–æ, –±–æ —Ç–∏ –¥—É–∂–µ —Ä–æ–∑—É–º–Ω–∞ —Ç–∞ —Ç–∞–ª–∞–Ω–æ–≤–∏—Ç–∞ —ñ —Ç–æ–º—É –≤—Å–µ –º–æ–∂–ª–∏–≤–æüòò. –£—Å–ø—ñ—Ö—ñ–≤ —Ç–æ–±—ñ —É –Ω–∞–≤—á–∞–Ω–Ω—ñ —Ç–∞ —É –º–∞–π–±—É—Ç–Ω—ñ–π –ø—Ä–æ—Ñ–µ—Å—ñ—ó –∑–∞–π–º–∞–π—Å—è —Ç–∏–º —á–∏–º —Ç–æ–±—ñ –¥—ñ–π—Å–Ω–æ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è, —à—É–∫–∞–π —Å–µ–±–µ, –ø—Ä–æ–±—É–π –ø–æ–º–∏–ª—è–π—Å—è –π–¥–∏ –¥–∞–ª—ñ —ñ –≤—Å–µ –∂ –±—É–¥—å —â–∞—Å–ª–∏–≤–∞, –∑–≤–∏—á–∞–π–Ω–æ —Å–ø–æ–¥—ñ–≤–∞—é—Å—å —â–æ –ø–æ–º–∏–ª–æ–∫ —Ç–∏ –Ω–∞—Ä–æ–±–∏—à –Ω–µ –±–∞–≥–∞—Ç–æ, –∞–ª–µ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –π –Ω—ñ –∂–∏—Ç—Ç—è —Ç–æ —Å–∫–ª–∞–¥–Ω–∞ —à—Ç—É–∫–∞ –≥–æ–ª–æ–≤–Ω–µ —â–æ–± –ø–æ—Ä—É—á –±—É–ª–∏ –º–∏ –≤—Å—ñ, —ñ –º–∏ –±—É–¥–µ–º–æ –∑–∞–¥–ª—è —Ç–æ–≥–æ —â–æ–± —Ç–∏ –Ω–µ –≤—Ç—Ä–∞—á–∞–ª–∞ –Ω–∞–¥—ñ—é, –±—É–¥–µ–º–æ —Ç–≤–æ—ó–º –±–µ–Ω–∑–∏–Ω–æ–º –∞–±–æ –∫—Ä–∏–ª–∞–º–∏ –≤—Å—ñ–º —á–∏–º –∑–∞—Ö–æ—á–µ—à, –∑–∞–¥–ª—è —Ç–æ–≥–æ —â–æ–± —É —Ç–µ–±–µ –≤—Å–µ –≤–∏–π—à–ª–æ. –ö–æ—Ö–∞–π —Ç–∞ –±—É–¥—å –∫–æ—Ö–∞–Ω–æ—é —Ç–∞–∫ —â–æ–± –ø–æ—Ç—ñ–º –±—É–ª–æ —â–æ –≤–Ω—É–∫–∞–º —Ä–æ–∑–∫–∞–∑–∞—Ç–∏, —Ç–∞–∫ —â–æ–± –¥–µ—â–æ –Ω–∞–≤—ñ—Ç—å –±—É–ª–æ –∫—Ä—ñ–Ω–∂–æ–≤–æ –∑–≥–∞–¥—É–≤–∞—Ç–∏üòÖ, —ñ —â–æ–± –∑ –∫–æ–∂–Ω–∏–º —Ä–æ–∫–æ–º –≤–∞—à–µ –∫–æ—Ö–∞–Ω–Ω—è –±—É–ª–æ –≤—Å–µ –±—ñ–ª—å—à–µ –∞ –¥–æ–≤—ñ—Ä–∞ –º—ñ—Ü–Ω—ñ—à–µü•∞, —É —Å—Ç–æ—Å—É–Ω–∫–∞—Ö –±—É–≤–∞—î –≤—Å–µ, —ñ —Ö–æ—Ä–æ—à–µ —ñ –ø–æ–≥–∞–Ω–µ –∞–ª–µ –±–∞–∂–∞—é —â–æ–± –ø–æ–≥–∞–Ω–æ –º–∞–π–∂–µ –Ω–µ –±—É–ª–æ, –º–∏—Ä—É —Ç–∞ –∑–ª–∞–≥–æ–¥–∏ –≤–∞–º ‚ù§Ô∏è –ù—É —ñ –∑–¥–æ—Ä–æ–≤ º—è —Ö–æ—á –∑–∞—Ä–∞–∑ –≤—Å–µ –Ω–µ —Ç–∞–∫ —Ä–∞–¥—ñ—Å–Ω–æ —Å–ø–æ–¥—ñ–≤–∞—é—Å—å —Ç–∏ –∑–º–æ–∂–µ—à —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è –∑—ñ –≤—Å—ñ–º–∞ –Ω–µ–≥–∞—Ä–∞–∑–¥–∞–º–∏, –Ω–µ –±—É–¥–µ—à –Ω–µ—Ö—Ç—É–≤–∞—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ —Ñ—ñ–∑–∏—á–Ω–∏–º –∞ –π –º–æ—Ä–∞–ª—å–Ω–∏–º —Å—Ç–∞–Ω–æ–º, —â–æ–± –∑ —á–∞—Å–æ–º —Ç–∏ –∑–º–æ–≥–ª–∞ —Å–∫–∞–∑–∞—Ç–∏ —Ç–∞ —Å—É–∫–∞ —è –∑–º–æ–≥–ª–∞. –¢–æ–º—É –π–¥–∏ —Ç—ñ–ª—å–∫–∏ –≤–ø–µ—Ä–µ–¥ –Ω–µ –∑—É–ø–∏–Ω—è–π—Å—è —ñ –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ –Ω–µ –æ–±–µ—Ä—Ç–∞–π—Å—è –Ω–∞–∑–∞–¥, –º—Ä—ñ–π, –±—É–¥—å —â–∞—Å–ª–∏–≤–∞ —ñ —É—Å–º—ñ—Ö–Ω–µ–Ω–∞, —Ä–∞–¥—ñ–π –∂–∏—Ç—Ç—é —ñ –∑–Ω–∞–π —â–æ –º–∏ –∑ –ú–∞—Ä—ñ—á–∫–æ—é –ø–æ—Ä—É—á –Ω–∞–≤—ñ—Ç—å –∑–∞ –±–∞–≥–∞—Ç–æ –∫—ñ–ª–æ–º–µ—Ç—Ä—ñ–≤ –º–∏ –º–æ—Ä–∞–ª—å–Ω–æ –∑ —Ç–æ–±–æ—é ü•∞';
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 4: greeting4.slice(0, i + 1) }));
        i++;
        if (i === greeting4.length) clearInterval(interval);
      }, 20); // –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–∏–π –µ—Ñ–µ–∫—Ç
    } else {
      setGreetingText((prev) => ({ ...prev, 4: '' })); // Reset when hidden
    }
    return () => clearInterval(interval);
  }, [photoVisible[4]]); // Use specific key as dependency

  useEffect(() => {
    const isVisible = photoVisible[5]; // Extract complex expression
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting5 = `–ö–∞—Ç–µ—Ä–∏–Ω–∫–æ, –≤—ñ—Ç–∞—é —Ç–µ–±–µ –∑ –î–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è!‚ù§Ô∏è 
–ù—É —â–æ, —Ç–æ–±—ñ 19. –£—Ä–∞! –ù–∞—Ä–µ—à—Ç—ñ —Ç–∏ –º–æ–∂–µ—à‚Ä¶ —Ç–∞ –Ω—ñ, –Ω—ñ—á–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–∏ –Ω–µ –º–æ–∂–µ—à ‚Äî –ø—Ä–æ—Å—Ç–æ —â–µ –Ω–∞ —Ä—ñ–∫ –±–ª–∏–∂—á–µ –¥–æ –∫—Ä–∏–∑–∏ –¥–≤–∞–¥—Ü—è—Ç–∏.ü§ó
–Ø –Ω–µ –∑–Ω–∞—é, —á–∏ –∑–º–æ–∂—É –ø—ñ–¥—ñ–±—Ä–∞—Ç–∏ —Å–ª–æ–≤–∞, —è–∫—ñ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–µ—Ä–µ–¥–∞–¥—É—Ç—å —É—Å–µ —Ç–µ, —â–æ —è –≤—ñ–¥—á—É–≤–∞—é –¥–æ —Ç–µ–±–µ. –¢–∏ —â–∏—Ä–∞, –¥–æ–±—Ä–∞, –∫—É–º–µ–¥–Ω–∞, —Å–∏–ª—å–Ω–∞, —ñ–Ω–æ–¥—ñ —Å–≤–∞—Ä–ª–∏–≤–∞. –ó–∞ —Ü–µ –≤—Å–µ —è —Ç–µ–±–µ –ª—é–±–ª—é.ü•∞‚ô•Ô∏è
–¢–∏ ‚Äî –ª—é–¥–∏–Ω–∞, —è–∫–∞ —Ä–µ–∞–ª—å–Ω–æ –≤–º—ñ—î –¥—Ä—É–∂–∏—Ç–∏: –Ω–µ –ø–æ –ø—Ä–∏–∫–æ–ª—É, –Ω–µ –Ω–∞ —Å–ª–æ–≤–∞—Ö, –∞ –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É. –¢–∞ —â–µ –π –∑ —Ç–æ–±–æ—é –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–≤–∞—î –Ω—É–¥–Ω–æ. –ó —Ç–æ–±–æ—é —è –º–æ–∂—É –±—É—Ç–∏ —Å–æ–±–æ—é, –º–æ–∂–ª–∏–≤–æ, –Ω–∞–≤—ñ—Ç—å –∫—Ä—ñ–Ω–∂–æ–≤—ñ—à–æ—é –≤–µ—Ä—Å—ñ—î—é —Å–µ–±–µ ‚Äî —ñ —è –∑–Ω–∞—é, —â–æ —Ç–∏ –π —Ç–∞–∫–æ—é –º–µ–Ω–µ –ø—Ä–∏–π–º–µ—à. –ü—Ä–æ–π—à–ª–∏ –º–∏ –≤–∂–µ —Å–ø—Ä–∞–≤–¥—ñ –±–∞–≥–∞—Ç–æ —Ä–∞–∑–æ–º. –†—ñ–∑–Ω—É —Ñ—ñ–≥–Ω—é —Ç–≤–æ—Ä–∏–ª–∏. –î–µ—Å—å –±—É–ª–∏ –Ω–µ –Ω–∞–¥—Ç–æ —Ö–æ—Ä–æ—à—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏, –∞–ª–µ –≥–æ–ª–æ–≤–Ω–µ ‚Äî —â–æ –º–∏ –≤–∏–Ω–æ—Å–∏–ª–∏ –∑ —Ü—å–æ–≥–æ —è–∫—ñ—Å—å —É—Ä–æ–∫–∏.
–ë–∞–∂–∞—é, —â–æ–± —Ü–µ–π —Ä—ñ–∫ –±—É–≤ –¥–ª—è —Ç–µ–±–µ –∫—Ä–∞—â–∏–º, –Ω—ñ–∂ —É—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ. ü•≥–ü–æ–±—ñ–ª—å—à–µ —Å–ø–æ–∫–æ—é —Ç–æ–±—ñ –±–∞–∂–∞—é –≤–¥–æ–º–∞. –¢–∞–∫–æ–∂ ‚Äî –º—ñ—Ü–Ω–æ–≥–æ –∫–æ—Ö–∞–Ω–Ω—è: —â–æ–± –≤–∏ –∑ –†–æ–º–∞–Ω–æ–º –¥–∞–ª—ñ –π—à–ª–∏ –ø–ª–µ—á–µ –¥–æ –ø–ª–µ—á–∞ —ñ –±–æ—Ä–æ–ª–∏ –≤—Å—ñ –Ω–µ–≥–∞—Ä–∞–∑–¥–∏ –Ω–∞ —Å–≤–æ—î–º—É —à–ª—è—Ö—É. –£—Å–ø—ñ—Ö—ñ–≤ —Ç–æ–±—ñ –≤ –∞–≤—Ç–æ—à–∫–æ–ª—ñ —Ç–∞ –º—ñ—Ü–Ω–∏—Ö –Ω–µ—Ä–≤—ñ–≤ –¥–ª—è —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç—É. –ù–∞—Å–ø—Ä–∞–≤–¥—ñ, –æ—Å–Ω–æ–≤–Ω–µ, —â–æ —è —Ö–æ—á—É –ø–æ–±–∞–∂–∞—Ç–∏ ‚Äî —Ü–µ —Ç–µ, —â–æ–± —Ç–∏ –±—É–ª–∞ —â–∞—Å–ª–∏–≤–æ—é. –†–µ—à—Ç–∞ —Ñ–∞–∫—Ç–æ—Ä—ñ–≤ –¥–æ —Ü—å–æ–≥–æ –ø—Ä–∏–ª–æ–∂–∞—Ç—å—Å—è. –ù–µ—Ö–∞–π —Ç–µ–±–µ –∑–∞–≤–∂–¥–∏ –æ—Ç–æ—á—É—é—Ç—å –ª—é–¥–∏, –∑ —è–∫–∏–º–∏ —Ç–æ–±—ñ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –Ω–µ –ª–∏—à–µ –≥–æ–≤–æ—Ä–∏—Ç–∏, –∞ –π –º–æ–≤—á–∞—Ç–∏.ü•∞
–ù—É —ñ, –∑–≤—ñ—Å–Ω–æ, —è–∫ –±–µ–∑ –≥—Ä–æ—à–∏–∫—ñ–≤ ‚Äî –±–∞–∂–∞—é —Ç–æ–±—ñ –º–∞—Ç–∏ —ó—Ö —è–∫–Ω–∞–π–±—ñ–ª—å—à–µ, —â–æ–± —Ç–∏ —Å–æ–±—ñ –Ω—ñ –≤ —á–æ–º—É –Ω–µ –≤—ñ–¥–º–æ–≤–ª—è–ª–∞.üí∂
P.S. –Ø –∑–∞–≤–∂–¥–∏ –ø–æ—Ä—É—á —ñ –ª—é–±–ª—é, –æ–±—ñ–π–º–∞—é —Ç–µ–±–µ.ü´∂üèª‚ù§Ô∏è‚ú®
P.P.S. –£—Å–º—ñ—Ö–∞–π—Å—è —á–∞—Å—Ç—ñ—à–µ`;
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 5: greeting5.slice(0, i + 1) }));
        i++;
        if (i === greeting5.length) clearInterval(interval);
      }, 20); // –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–∏–π –µ—Ñ–µ–∫—Ç
    } else {
      setGreetingText((prev) => ({ ...prev, 5: '' })); // Reset when hidden
    }
    return () => clearInterval(interval);
  }, [photoVisible[5]]); // Use specific key as dependency

  useEffect(() => {
    const isVisible = photoVisible[6]; // Extract complex expression
    let interval;
    if (isVisible) {
      let i = 0;
      const greeting6 = '–ó –î–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è! –ù–µ—Ö–∞–π —Ç–≤—ñ–π –¥–µ–Ω—å –±—É–¥–µ —Ç–∞–∫–∏–π –∂–µ –Ω–µ–∑–∞–±—É—Ç–Ω—ñ–π, —è–∫ –ø–∞—Ä–æ–ª—å, —è–∫–∏–π —Ç–∏ –∑–∞–±—É–ª–∞. –Ü —â–æ–± —Ç–æ–±—ñ –∑–∞–≤–∂–¥–∏ —â–∞—Å—Ç–∏–ª–æ, —è–∫ –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —Ä–æ–∑–∫—ñ—à–Ω–æ—ó —Å–∫—Ä–∏–Ω—ñ –∑ —Ä—ñ–¥–∫—ñ—Å–Ω–æ—é –∑–±—Ä–æ—î—é, –∞ –≤ –∂–∏—Ç—Ç—ñ –±—É–ª–æ –±—ñ–ª—å—à–µ —É–¥–∞—á—ñ, –Ω—ñ–∂ –ø—Ä–∏ –∫—Ä—É—Ç–∫–∞—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤.';
      interval = setInterval(() => {
        setGreetingText((prev) => ({ ...prev, 6: greeting6.slice(0, i + 1) }));
        i++;
        if (i === greeting6.length) clearInterval(interval);
      }, 20); // –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–∏–π –µ—Ñ–µ–∫—Ç
    } else {
      setGreetingText((prev) => ({ ...prev, 6: '' })); // Reset when hidden
    }
    return () => clearInterval(interval);
  }, [photoVisible[6]]); // Use specific key as dependency

  const photoUrls = [
    '/images/photo_2025-08-07_03-10-05.jpg',
    '/images/photo_2025-08-07_03-50-39.jpg',
    '/images/photo_2025-08-07_03-39-22.jpg',
    '/images/photo_2025-08-07_03-55-50.jpg',
    '/images/photo_2025-08-07_03-55-46.jpg',
    '/images/photo_2025-08-07_03-39-33.jpg',
  ];

  return (
    <div className="home-container">
      <Header menuOpen={menuOpen} setMenuOpen={setMenuOpen} />

      {/* Full-screen mobile menu */}
      {menuOpen && (
        <div className="fullscreen-menu">
          <button
            onClick={() => setMenuOpen(false)}
            className="close-button"
            aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –º–µ–Ω—é"
          >
            ‚úï
          </button>
          <h2 className="fullscreen-menu-title">–°–ø–æ–≥–∞–¥–∏</h2>
          <div className="fullscreen-menu-links">
            {years.map((year) => (
              <Link
                key={year}
                to={`/memories/${year}`}
                className="memory-button"
                onClick={() => setMenuOpen(false)}
              >
                {year}
              </Link>
            ))}
            <Link
              to="/"
              className="back-button"
              onClick={() => setMenuOpen(false)}
            >
              ‚¨Ö –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó
            </Link>
          </div>
        </div>
      )}

      <div className="main-content">
        <h2 className="main-title">–ó –î–Ω–µ–º –ù–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, –õ—é–±—ñ–º–∫–∞! üéâ</h2>
        <p className="typing-text">{displayedText}</p>

        {/* Desktop/Tablet menu */}
        <div className="desktop-menu">
          {years.map((year) => (
            <Link key={year} to={`/memories/${year}`} className="memory-button">
              {year}
            </Link>
          ))}
        </div>

        {/* New buttons and photo/greeting sections */}
        <div className="greeting-buttons">
          {Array.from({ length: 6 }, (_, index) => (
            <div key={index + 1} className="greeting-item">
              <button
                className="memory-button"
                onClick={() => setPhotoVisible((prev) => ({ ...prev, [index + 1]: !prev[index + 1] }))}
              >
                –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –≤—ñ–¥ {['–ª—é–±–∏–º–æ–≥–æ —á–æ–ª–æ–≤—ñ–∫–∞', '–º–∞–º–∏', '–°–µ—Ä–≥—ñ—è', '–°–æ—Ñ—ñ—ó', '–ú–∞—Ä—ñ—á–∫–∏', '–û–ª–µ–≥–∞'][index]}
              </button>
              {photoVisible[index + 1] && (
                <div className="photo-greeting-container">
                  <img
                    src={photoUrls[index]}
                    alt={`–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è ${index + 1}`}
                    className="greeting-photo"
                  />
                  <p className="greeting-text">{greetingText[index + 1]}</p>
                </div>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

export default Home;
